
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Truck Rental Site</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    
        
       <script>
        // 1. CONFIGURATION
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: { brand: { red: '#DC2626', dark: '#0f172a' } }
                }
            }
        }

        // 2. GLOBAL VARIABLES
        let selectedOrderType = ""; 
        let activeTab = "Pickup"; 
        let currentBasePrice = 0; 
        let currentUserData = {}; 

        // 3. TRUCK DATA
        const truckData = {
            "Pickup": [
                { id: "p1", name: "7 Feet 1 Ton (Open)", models: "Tata Ace, Ashok Leyland Dost", img: "Logo&icon/truck1.png", length: "7 Feet", width: "4.6 Feet", desc: "Great for small furniture, electronics, or boxes.", price: "Â£40" },
                { id: "p2", name: "9 Feet 1.5 Ton (Covered)", models: "Tata 407, Eicher Pro", img: "Logo&icon/truck2.png", length: "9 Feet", width: "5.5 Feet", desc: "Ideal for shifting a 1BHK or medium loads.", price: "Â£55" }
            ],
            "Medium": [
                { id: "m1", name: "12 Feet 2 Ton (Covered)", models: "JAC, Eicher 1059", img: "Logo&icon/truck3.png", length: "12 Feet", width: "6 Feet", desc: "Perfect for 2BHK household shifting.", price: "Â£80" }
            ],
            "Large": [
                { id: "l1", name: "16 Feet 4 Ton", models: "Tata 1109, Eicher Pro 1110", img: "Logo&icon/truck4.png", length: "16 Feet", width: "7 Feet", desc: "Best for corporate shifting or large inventory.", price: "Â£120" }
            ],
            "Trailer": [
                { id: "t1", name: "23 Feet Flatbed", models: "Prime Mover", img: "Logo&icon/truck5.png", length: "23 Feet", width: "8 Feet", desc: "For industrial machinery and containers.", price: "Quote" }
            ]
        };

        // ================= 4. AUTHENTICATION LOGIC =================

        function openAuthModal(mode) {
            document.getElementById('authModal').classList.remove('hidden');
            switchAuthTab(mode);
        }
        function closeAuthModal() {
            document.getElementById('authModal').classList.add('hidden');
        }

        function switchAuthTab(mode) {
            const loginForm = document.getElementById('form-login');
            const signupForm = document.getElementById('form-signup');
            const loginTab = document.getElementById('tab-login');
            const signupTab = document.getElementById('tab-signup');

            if (mode === 'login') {
                loginForm.classList.remove('hidden');
                signupForm.classList.add('hidden');
                loginTab.classList.add('border-brand-red', 'text-brand-red');
                loginTab.classList.remove('border-transparent', 'text-gray-500');
                signupTab.classList.remove('border-brand-red', 'text-brand-red');
                signupTab.classList.add('border-transparent', 'text-gray-500');
            } else {
                loginForm.classList.add('hidden');
                signupForm.classList.remove('hidden');
                signupTab.classList.add('border-brand-red', 'text-brand-red');
                signupTab.classList.remove('border-transparent', 'text-gray-500');
                loginTab.classList.remove('border-brand-red', 'text-brand-red');
                loginTab.classList.add('border-transparent', 'text-gray-500');
            }
        }

        function selectUserType(type) {
            const shipperBtn = document.getElementById('type-shipper');
            const driverBtn = document.getElementById('type-driver');
            document.getElementById('user-type-input').value = type;

            if (type === 'shipper') {
                shipperBtn.className = "cursor-pointer text-center py-2 rounded-md text-sm font-bold transition bg-white text-brand-red shadow-sm";
                driverBtn.className = "cursor-pointer text-center py-2 rounded-md text-sm font-bold text-gray-500 hover:text-gray-700 transition";
            } else {
                driverBtn.className = "cursor-pointer text-center py-2 rounded-md text-sm font-bold transition bg-white text-brand-red shadow-sm";
                shipperBtn.className = "cursor-pointer text-center py-2 rounded-md text-sm font-bold text-gray-500 hover:text-gray-700 transition";
            }
        }

        
        async function handleSignup() {
    const fullName = document.getElementById('signup-name').value;
    const mobile = document.getElementById('signup-mobile').value;
    const password = document.getElementById('signup-pass').value;
    const userType = document.getElementById('user-type-input').value;

    try {
        const response = await fetch(`${API_BASE_URL}/signup`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ fullName, mobile, password, userType })
        });

        const data = await response.json();
        
        if (data.success) {
            alert("Account Created Successfully! Please Log In.");
            switchAuthTab('login');
        } else {
            alert("Error: " + data.message);
        }
    } catch (error) {
        console.error(error);
        alert("Could not connect to server.");
    }
}
        

        // 2. Handle LOG IN (Updated with LocalStorage)
    async function handleLogin() {
        const mobile = document.getElementById('login-mobile').value;
        const password = document.getElementById('login-pass').value;

        try {
            const response = await fetch(`${API_BASE_URL}/login`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ mobile, password })
            });

            const data = await response.json();

            if (data.success) {
                alert("Login Successful!");
                
                // Save Data
                currentUserData = data.user;
                localStorage.setItem('savedUser', JSON.stringify(data.user));
                
                // Close Popup
                closeAuthModal();
                
                // RUN THE SYNC LOGIC HERE
                updateUIForLogin(data.user);

            } else {
                alert("Error: " + data.message);
            }
        } catch (error) { console.error(error); }
    }

        // 3. Handle LOGOUT (Updated)
    function handleLogout() {
        localStorage.removeItem('savedUser');
        currentUserData = {}; 

        // Reset Desktop
        document.getElementById('nav-guest').classList.remove('hidden');
        document.getElementById('nav-user').classList.add('hidden');
        document.getElementById('profile-dropdown').classList.add('hidden');

        // Reset Mobile
        document.getElementById('mobile-nav-guest').classList.remove('hidden'); // Show buttons
        
        document.getElementById('mobile-nav-user').classList.add('hidden'); // Hide User Info
        document.getElementById('mobile-nav-user').classList.remove('flex');

        document.getElementById('mobile-user-links').classList.add('hidden'); // Hide Links
        document.getElementById('mobile-user-links').classList.remove('flex');

        // Close mobile menu automatically
        document.getElementById('mobile-menu').classList.add('hidden');
        document.getElementById('mobile-menu').classList.remove('flex');

        alert("You have logged out.");
    }

        // ================= 5. PROFILE & MENU LOGIC =================

        function toggleMobileMenu() {
        const menu = document.getElementById('mobile-menu');
        // Toggle between hidden and flex to show/hide it
        if (menu.classList.contains('hidden')) {
            menu.classList.remove('hidden');
            menu.classList.add('flex');
        } else {
            menu.classList.add('hidden');
            menu.classList.remove('flex');
        }
    }
        window.addEventListener('click', function(e) {
            const navUser = document.getElementById('nav-user');
            const menu = document.getElementById('profile-dropdown');
            if (navUser && !navUser.contains(e.target)) {
                menu.classList.add('hidden');
            }
        });

        function closeAllMenuModals() {
            document.getElementById('profileModal').classList.add('hidden');
            document.getElementById('bookingsModal').classList.add('hidden');
            document.getElementById('settingsModal').classList.add('hidden');
        }

        function openProfileModal() {
            document.getElementById('profile-dropdown').classList.add('hidden');
            document.getElementById('profile-name').value = currentUserData.full_name || "";
            document.getElementById('profile-mobile').value = currentUserData.phone || "";
            document.getElementById('profile-email').value = currentUserData.email || "";
            
            if (currentUserData.profile_pic) {
                showProfileImage('http://localhost:3000/' + currentUserData.profile_pic);
            }
            
            document.getElementById('profileModal').classList.remove('hidden');
            {
            document.getElementById('profile-dropdown').classList.add('hidden');
            
            // Fill existing data
            document.getElementById('profile-name').value = currentUserData.full_name || "";
            document.getElementById('profile-mobile').value = currentUserData.phone || "";
            document.getElementById('profile-email').value = currentUserData.email || "";
            
            // NEW: Fill Address
            document.getElementById('profile-address').value = currentUserData.address || "";
            document.getElementById('profile-postcode').value = currentUserData.postcode || "";
            
            if (currentUserData.profile_pic) {
                showProfileImage('http://localhost:3000/' + currentUserData.profile_pic);
            }
            document.getElementById('profileModal').classList.remove('hidden');
        }
        }

        
// UPDATE: Open Bookings Modal & Fetch Data (With Comments)
    async function openBookingsModal() { 
        // A. Toggle Menus
        document.getElementById('profile-dropdown').classList.add('hidden');
        document.getElementById('bookingsModal').classList.remove('hidden');

        // B. Show Loading State
        const listContainer = document.getElementById('bookings-list');
        listContainer.innerHTML = '<p class="text-center text-gray-500 py-4"><i class="fas fa-spinner fa-spin"></i> Loading...</p>';

        // C. Check Login
        if (!currentUserData.phone) {
            listContainer.innerHTML = '<p class="text-center text-red-500">Please log in.</p>';
            return;
        }

        try {
            // D. Get Data from Server
            const response = await fetch('http://localhost:3000/my-bookings', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ mobile: currentUserData.phone })
            });

            const data = await response.json();

            // E. Build the List
            if (data.success && data.bookings.length > 0) {
                listContainer.innerHTML = ""; 
                
                // IMPORTANT: Save bookings globally so the PDF generator can read them later
                window.customerBookings = data.bookings;

                data.bookings.forEach(order => {
                    // 1. Determine Badge Colors
                    let badgeColor = "bg-yellow-100 text-yellow-700";
                    if(order.status === 'Completed') badgeColor = "bg-green-100 text-green-700";
                    if(order.status === 'Cancelled') badgeColor = "bg-red-100 text-red-700";

                    // 2. Create Action Button (Invoice or Track)
                    let actionButton = '';
                    
                    // If Completed -> Show "Download Invoice"
                    if (order.status === 'Completed') {
                        actionButton = `
                            <button onclick="generateCustomerInvoice(${order.id})" class="text-xs text-blue-600 hover:underline mt-1 block w-full text-right font-bold border border-blue-100 p-1 rounded">
                                <i class="fas fa-file-pdf"></i> Download Invoice
                            </button>
                        `;
                    } 
                    // If Processing -> Show "Track Now"
                    else if (order.status === 'Processing') {
                        actionButton = `<button onclick="location.href='tracking.html'" class="bg-brand-red text-white text-xs px-3 py-1.5 rounded mt-2 hover:bg-red-700">Track Now</button>`;
                    }

                    // 3. Show Admin Comment (if any)
                    let commentHtml = order.admin_comment ? 
                        `<div class="mt-3 p-2 text-xs rounded border border-gray-100 bg-gray-50 text-gray-600 flex items-start gap-2">
                            <i class="fas fa-info-circle mt-0.5"></i><span><span class="font-bold">Note:</span> ${order.admin_comment}</span>
                         </div>` : '';

                    // 4. The HTML Card
                    const html = `
                        <div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm">
                            <div class="flex justify-between items-start">
                                <div>
                                    <div class="flex items-center gap-2 mb-1">
                                        <span class="${badgeColor} text-[10px] font-bold px-2 py-0.5 rounded uppercase">${order.status}</span>
                                        <span class="text-xs text-gray-400">#ORD-${order.id}</span>
                                    </div>
                                    <h4 class="font-bold text-gray-800">${order.truck_type}</h4>
                                    <p class="text-xs text-gray-500">${order.booking_date} â€¢ ${order.pickup_loc}</p>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-gray-900">${order.quoted_price > 0 ? 'Â£'+order.quoted_price : 'Pending'}</p>
                                    ${actionButton}
                                </div>
                            </div>
                            ${commentHtml}
                        </div>
                    `;
                    listContainer.innerHTML += html;
                });
            } else {
                listContainer.innerHTML = '<p class="text-center text-gray-400 py-4">No bookings found.</p>';
            }
        } catch (e) { 
            console.error(e); 
            listContainer.innerHTML = '<p class="text-center text-red-500">Server Error.</p>'; 
        }
    }

    // 2. GENERATE PDF INVOICE (FIXED SPACING)
    function generateCustomerInvoice(id) {
        // Check library
        if (!window.jspdf) { alert("PDF Library not loaded. Please refresh."); return; }

        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        
        const order = window.customerBookings.find(o => o.id === id);
        if(!order) return alert("Order data missing");

        // --- HEADER ---
        doc.setFillColor(220, 38, 38); 
        doc.rect(0, 0, 210, 40, 'F'); 
        
        doc.setTextColor(255, 255, 255);
        doc.setFontSize(22);
        doc.setFont("helvetica", "bold");
        doc.text("INVOICE", 15, 20);
        
        doc.setFontSize(12);
        doc.setFont("helvetica", "normal");
        doc.text("Samz Removal & Delivery", 15, 30);
        
        doc.text("#ORD-" + order.id, 190, 20, { align: "right" });
        doc.text(new Date().toLocaleDateString(), 190, 30, { align: "right" });

        // --- CUSTOMER INFO ---
        doc.setTextColor(0, 0, 0);
        doc.setFontSize(10);
        
        // Title
        doc.setFont("helvetica", "bold");
        doc.text("BILL TO:", 15, 55);
        
        // Details (Moved down slightly to prevent overlap)
        doc.setFont("helvetica", "normal");
        doc.text(currentUserData.full_name || "Valued Customer", 15, 62);
        doc.text("Phone: " + order.user_mobile, 15, 68);
        
        // Address Logic (Only print if exists)
        let currentY = 74; // Keep track of vertical position
        if(currentUserData.address) {
            doc.text(currentUserData.address, 15, currentY);
            currentY += 6; // Move down for postcode
            doc.text(currentUserData.postcode || "", 15, currentY);
            currentY += 6; // Move down after postcode
        }

        // --- TABLE ---
        // I increased startY to add the "2 space gap" you asked for
        doc.autoTable({
            startY: currentY + 10, // Adds extra space below address
            head: [['Description', 'Details']],
            body: [
                ['Service Type', order.truck_type],
                ['Pickup Location', order.pickup_loc],
                ['Dropoff Location', order.dropoff_loc],
                ['Date & Time', `${order.booking_date} at ${order.booking_time}`],
                ['Helpers', order.helper_count ? order.helper_count + " Helper(s)" : "Driver Only"],
                ['Payment Status', 'PAID (Completed)'],
            ],
            theme: 'grid',
            headStyles: { fillColor: [50, 50, 50] },
            styles: { fontSize: 10, cellPadding: 3 }
        });

        // --- TOTAL PRICE ---
        let finalY = doc.lastAutoTable.finalY + 20;
        
        doc.setFontSize(12);
        doc.setFont("helvetica", "bold");
        doc.text("TOTAL PAID:", 140, finalY);
        
        doc.setFontSize(16);
        doc.setTextColor(220, 38, 38); // Red Color
        doc.text("Â£" + order.quoted_price, 190, finalY, { align: "right" });

        // --- FOOTER ---
        doc.setFontSize(10);
        doc.setTextColor(100, 100, 100); // Gray
        doc.text("Thank you for your business!", 105, 280, { align: "center" });
    

        // Save
        doc.save(`Invoice_Samz_ORD-${order.id}.pdf`);
    }





        function openSettingsModal() {
            document.getElementById('profile-dropdown').classList.add('hidden');
            document.getElementById('settingsModal').classList.remove('hidden');
        }

        async function updateProfile() {
    const fullName = document.getElementById('profile-name').value;
    const email = document.getElementById('profile-email').value;
    const mobile = document.getElementById('profile-mobile').value;
    const address = document.getElementById('profile-address').value;
    const postcode = document.getElementById('profile-postcode').value;

    try {
        const response = await fetch(`${API_BASE_URL}/update-profile`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ fullName, email, mobile, address, postcode }) 
        });
        
        const data = await response.json();
        if (data.success) {
            alert("Profile Updated!");
            // Update local storage
            currentUserData.full_name = fullName;
            currentUserData.email = email;
            currentUserData.address = address;
            currentUserData.postcode = postcode;
            
            localStorage.setItem('savedUser', JSON.stringify(currentUserData));
            document.getElementById('nav-username').innerText = fullName;
            closeAllMenuModals();
        } else {
            alert("Update Failed: " + data.message);
        }
    } catch (e) { 
        console.error(e); 
        alert("Server Error"); 
    }
}


        // 1. Upload Image Immediately on Selection (FIXED)
   async function uploadImage(input) {
    if (input.files && input.files[0]) {
        const file = input.files[0];
        const mobile = document.getElementById('profile-mobile').value;
        const formData = new FormData();
        formData.append('avatar', file);
        formData.append('mobile', mobile);

        try {
            document.getElementById('default-icon').className = "fas fa-spinner fa-spin text-3xl text-gray-400";

            const response = await fetch(`${API_BASE_URL}/upload-avatar`, {
                method: 'POST',
                body: formData
            });

            const data = await response.json();

            if (data.success) {
                showProfileImage(data.imagePath);
                updateNavbarImage(data.imagePath);
                
                // Clean path and save
                const cleanPath = data.imagePath.replace(API_BASE_URL + '/', ''); 
                currentUserData.profile_pic = cleanPath; 
                localStorage.setItem('savedUser', JSON.stringify(currentUserData));

                alert("Profile Picture Updated!");
            } else {
                alert("Upload Failed");
            }
        } catch (e) { 
            console.error(e); 
            alert("Server Error during upload"); 
        }
    }
}

        function showProfileImage(path) {
            const img = document.getElementById('profile-preview');
            const icon = document.getElementById('default-icon');
            if (path) {
                img.src = path;
                img.classList.remove('hidden');
                icon.classList.add('hidden');
            }
        }

        function updateNavbarImage(path) {
            const navDiv = document.querySelector('#nav-user .h-10'); 
            if (path && navDiv) {
                navDiv.innerHTML = `<img src="${path}" class="h-full w-full rounded-full object-cover">`;
            }
        }

        // ================= 6. BOOKING FLOW LOGIC =================

        function startBooking() {
            const loadInput = document.getElementById('load-location').value;
            if(loadInput === "") {
                alert("Please enter a Load Location first.");
                document.getElementById('load-location').focus();
                return;
            }
            document.getElementById('orderTypeModal').classList.remove('hidden');
        }

        function closeOrderModal() {
            document.getElementById('orderTypeModal').classList.add('hidden');
        }

        function selectOrderType(type) {
            selectedOrderType = type;
            closeOrderModal();
            document.getElementById('selected-mode-display').innerText = "Booking Mode: " + type;
            renderTabs();
            renderVehicleList();
            document.getElementById('vanModal').classList.remove('hidden');
        }

        function closeVanModal() {
            document.getElementById('vanModal').classList.add('hidden');
        }

        function renderTabs() {
            const container = document.getElementById('tab-container');
            container.innerHTML = ""; 
            const categories = Object.keys(truckData);

            categories.forEach(cat => {
                const btn = document.createElement('button');
                if (cat === activeTab) {
                    btn.className = "pb-3 border-b-2 border-brand-red text-brand-red font-bold text-sm px-4 transition-colors";
                } else {
                    btn.className = "pb-3 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium text-sm px-4 transition-colors";
                }
                btn.innerText = cat;
                btn.onclick = () => {
                    activeTab = cat;
                    renderTabs();      
                    renderVehicleList();
                };
                container.appendChild(btn);
            });
        }

        function renderVehicleList() {
            const container = document.getElementById('vehicle-list-container');
            container.innerHTML = ""; 

            const vehicles = truckData[activeTab];

            if (!vehicles || vehicles.length === 0) {
                container.innerHTML = "<p class='text-center text-gray-400 mt-10'>No vehicles available in this category.</p>";
                return;
            }

            vehicles.forEach(truck => {
                const html = `
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 mb-4 relative">
                        <div class="flex flex-col md:flex-row items-center p-4 gap-4">
                            <div class="w-full md:w-32 h-24 bg-gray-100 rounded-md flex-shrink-0 flex items-center justify-center overflow-hidden">
                                <i class="fas fa-truck text-4xl text-gray-400"></i>
                            </div>
                            <div class="flex-grow text-center md:text-left w-full">
                                <h4 class="text-lg font-bold text-gray-800">${truck.name}</h4>
                                <p class="text-xs text-gray-500 mb-2">${truck.models}</p>
                                <button onclick="toggleDetails('${truck.id}')" class="text-sm text-blue-600 hover:underline flex items-center justify-center md:justify-start gap-1">
                                    More Details <i id="icon-${truck.id}" class="fas fa-chevron-down text-xs transition-transform duration-300"></i>
                                </button>
                            </div>
                            <div class="flex-shrink-0 flex flex-col gap-2 w-full md:w-auto min-w-[150px]">
                                <div class="relative group"> 
                                    <button onclick="bidTruck('${truck.name}')" class="w-full bg-white border-2 border-brand-red text-brand-red px-3 py-1.5 rounded font-bold hover:bg-red-50 transition shadow-sm text-sm flex justify-between items-center">
                                        <div class="flex items-center gap-2"><span>Bid</span><i class="far fa-question-circle text-gray-400 hover:text-brand-red"></i></div><i class="fas fa-gavel text-xs"></i>
                                    </button>
                                    <div class="absolute top-full right-0 mt-2 w-64 p-4 bg-white text-left rounded-lg shadow-2xl border border-gray-100 invisible opacity-0 group-hover:visible group-hover:opacity-100 transition-all duration-200 z-[100]">
                                        <h5 class="font-bold text-gray-900 text-sm mb-2 border-b pb-1">Bidding Trip</h5>
                                        <p class="text-xs text-gray-500 leading-relaxed font-normal">After publishing the trip, truck owners/drivers will offer you fares.</p>
                                        <div class="absolute bottom-full right-8 -mb-1 border-8 border-transparent border-b-white"></div>
                                    </div>
                                </div>
                                <button onclick="bookTruck('${truck.name}', '${truck.price}')" class="bg-brand-red text-white px-4 py-2 rounded font-bold hover:bg-red-700 transition shadow-sm text-sm flex justify-between items-center">
                                    <span>Book Now</span><i class="fas fa-arrow-right text-xs"></i>
                                </button>
                            </div>
                        </div>
                        <div id="details-${truck.id}" class="details-content bg-gray-50 border-t border-gray-100 px-4 rounded-b-lg">
                            <div class="py-4 grid grid-cols-2 gap-4 max-w-md mx-auto md:mx-0">
                                <div class="flex items-center gap-3"><div class="w-8 h-8 rounded-full bg-white border border-gray-200 flex items-center justify-center text-blue-500"><i class="fas fa-ruler-horizontal"></i></div><div><p class="text-[10px] text-gray-400 uppercase font-bold">Length</p><p class="text-sm font-bold text-gray-700">${truck.length}</p></div></div>
                                <div class="flex items-center gap-3"><div class="w-8 h-8 rounded-full bg-white border border-gray-200 flex items-center justify-center text-blue-500"><i class="fas fa-ruler-vertical"></i></div><div><p class="text-[10px] text-gray-400 uppercase font-bold">Width</p><p class="text-sm font-bold text-gray-700">${truck.width}</p></div></div>
                            </div>
                            <p class="text-xs text-gray-500 pb-4 px-1">${truck.desc}</p>
                        </div>
                    </div>
                `;
                container.innerHTML += html;
            });
        }

        function toggleDetails(id) {
            const content = document.getElementById(`details-${id}`);
            const icon = document.getElementById(`icon-${id}`);
            if (content.classList.contains('open')) {
                content.classList.remove('open');
                icon.classList.remove('rotate-180');
            } else {
                content.classList.add('open');
                icon.classList.add('rotate-180');
            }
        }

        function bidTruck(truckName) {
            alert(`You placed a bid for: ${truckName}.`);
        }

        function bookTruck(truckName, priceString) {
            let numericPrice = parseInt(priceString.replace(/[^0-9]/g, ''));
            if (isNaN(numericPrice)) { numericPrice = 0; }
            currentBasePrice = numericPrice; 

            document.getElementById('summary-load').innerText = document.getElementById('load-location').value || "Not Selected";
            document.getElementById('summary-unload').innerText = document.getElementById('unload-location').value || "Not Selected";
            document.getElementById('summary-truck-name').innerText = truckName;
            document.getElementById('summary-price').innerText = currentBasePrice;

            resetHelperStyles();
            const options = document.querySelectorAll('.helper-option');
            if(options.length > 0) {
                options[0].classList.remove('border-gray-200', 'bg-white');
                options[0].classList.add('border-brand-red', 'bg-red-50');
            }

            document.getElementById('vanModal').classList.add('hidden');
            document.getElementById('bookingDetailsModal').classList.remove('hidden');
        }

        function selectHelper(extraCost, element) {
            const newTotal = currentBasePrice + extraCost;
            document.getElementById('summary-price').innerText = newTotal;
            resetHelperStyles();
            element.classList.remove('border-gray-200', 'bg-white');
            element.classList.add('border-brand-red', 'bg-red-50');
        }

        function resetHelperStyles() {
            const options = document.querySelectorAll('.helper-option');
            options.forEach(opt => {
                opt.classList.remove('border-brand-red', 'bg-red-50');
                opt.classList.add('border-gray-200', 'bg-white');
            });
        }

        function closeBookingModal() {
            document.getElementById('bookingDetailsModal').classList.add('hidden');
        }
        function backToVehicles() {
            document.getElementById('bookingDetailsModal').classList.add('hidden');
            document.getElementById('vanModal').classList.remove('hidden');
        }

        function toggleAccordion(contentId, iconId) {
            const content = document.getElementById(contentId);
            const icon = document.getElementById(iconId);
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                icon.classList.remove('fa-plus');
                icon.classList.add('fa-minus');
                icon.classList.remove('text-brand-red');
                icon.classList.add('text-gray-400');
            } else {
                content.classList.add('hidden');
                icon.classList.remove('fa-minus');
                icon.classList.add('fa-plus');
                icon.classList.remove('text-gray-400');
                icon.classList.add('text-brand-red');
            }
        }
        
        // Testimonial Slider
        function showTestimonialPage(pageNumber) {
            const page1 = document.getElementById('testimonial-page-1');
            const page2 = document.getElementById('testimonial-page-2');
            const dot1 = document.getElementById('dot-1');
            const dot2 = document.getElementById('dot-2');

            if (pageNumber === 1) {
                page1.classList.remove('hidden');
                page1.classList.add('grid');
                page2.classList.add('hidden');
                page2.classList.remove('grid');
                dot1.classList.remove('bg-gray-300');
                dot1.classList.add('bg-brand-red');
                dot2.classList.remove('bg-brand-red');
                dot2.classList.add('bg-gray-300');
            } else {
                page1.classList.add('hidden');
                page1.classList.remove('grid');
                page2.classList.remove('hidden');
                page2.classList.add('grid');
                dot1.classList.remove('bg-brand-red');
                dot1.classList.add('bg-gray-300');
                dot2.classList.remove('bg-gray-300');
                dot2.classList.add('bg-brand-red');
            }
        }






        // ================= AUTO-LOGIN LOGIC =================

    // 1. Helper Function to Update UI (Used by Login & Auto-Login)
    function updateUIForLogin(user) {
        // --- DESKTOP UPDATES ---
        document.getElementById('nav-guest').classList.add('hidden');   // Hide Login/Signup buttons
        document.getElementById('nav-user').classList.remove('hidden'); // Show User Profile
        document.getElementById('nav-username').innerText = user.full_name; // Update Name

        // --- MOBILE UPDATES ---
        document.getElementById('mobile-nav-guest').classList.add('hidden'); // Hide Mobile Login buttons
        
        const mobileUserNav = document.getElementById('mobile-nav-user');
        mobileUserNav.classList.remove('hidden'); // Show Mobile User Section
        mobileUserNav.classList.add('flex');      // Make sure it aligns correctly
        
        document.getElementById('mobile-username').innerText = user.full_name; // Update Mobile Name

        const mobileLinks = document.getElementById('mobile-user-links');
        mobileLinks.classList.remove('hidden'); // Show Mobile Links (Profile, Bookings, Logout)
        mobileLinks.classList.add('flex');

        // --- IMAGE UPDATES (Both) ---
        if (user.profile_pic) {
            const fullPath = 'http://localhost:3000/' + user.profile_pic;
            
            // Update Desktop Circle
            const navDiv = document.querySelector('#nav-user .h-10'); 
            if (navDiv) navDiv.innerHTML = `<img src="${fullPath}" class="h-full w-full rounded-full object-cover">`;
            
            // Update Mobile Circle
            const mobileDiv = document.querySelector('#mobile-nav-user .h-10');
            if (mobileDiv) mobileDiv.innerHTML = `<img src="${fullPath}" class="h-full w-full rounded-full object-cover">`;
        }
    }

    // 2. Check Storage on Page Load
    window.addEventListener('DOMContentLoaded', () => {
        const storedUser = localStorage.getItem('savedUser');
        if (storedUser) {
            const userObj = JSON.parse(storedUser);
            currentUserData = userObj;
            // Run Sync Logic immediately on load
            updateUIForLogin(userObj);
        }
    });

    // 11. FINAL CONFIRMATION (Sends to DB)
    async function confirmBooking() {
        // Gather all data
        const bookingData = {
            mobile: currentUserData.phone || "Guest", // Uses logged in user phone
            pickup: document.getElementById('summary-load').innerText,
            dropoff: document.getElementById('summary-unload').innerText,
            truck: document.getElementById('summary-truck-name').innerText,
            helpers: 0, // You can make this dynamic based on your helper selection logic
            date: document.querySelector('input[type="date"]').value,
            time: document.querySelector('input[type="time"]').value
        };

        if(!bookingData.date || !bookingData.time) {
            alert("Please select a Date and Time");
            return;
        }

        try {
            const response = await fetch('http://localhost:3000/book-trip', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(bookingData)
            });
            
            const data = await response.json();
            if(data.success) {
                alert("Booking Request Sent! Admin will update the price soon.");
                closeBookingModal();
            } else {
                alert("Failed to book.");
            }
        } catch (e) { console.error(e); }
    }


    // 11. FINAL CONFIRMATION (Sends to DB)
    async function confirmBooking() {
        // 1. Collect all the data from the screen
        const bookingData = {
            mobile: currentUserData.phone || "Guest", // Uses the logged-in user's phone
            pickup: document.getElementById('summary-load').innerText,
            dropoff: document.getElementById('summary-unload').innerText,
            truck: document.getElementById('summary-truck-name').innerText,
            helpers: 0, // (Optional: You can grab the helper count here if needed)
            date: document.querySelector('input[type="date"]').value,
            time: document.querySelector('input[type="time"]').value
        };

        // 2. Validation: Make sure they picked a date
        if(!bookingData.date || !bookingData.time) {
            alert("Please select a Date and Time first.");
            return;
        }

        // 3. Send to Server
        try {
            const response = await fetch('http://localhost:3000/book-trip', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(bookingData)
            });
            
            const data = await response.json();
            
            if(data.success) {
                // SUCCESS!
                alert("Booking Request Sent! Check your Admin Panel now.");
                closeBookingModal();
            } else {
                alert("Failed: " + data.error);
            }
        } catch (e) { 
            console.error(e);
            alert("Server Error. Is the backend running?");
        }
    }



    // ================= AUTO-LOGIN LOGIC (FIXED) =================
    window.addEventListener('DOMContentLoaded', () => {
        const storedUser = localStorage.getItem('savedUser');
        
        if (storedUser) {
            // 1. Restore Data
            const userObj = JSON.parse(storedUser);
            currentUserData = userObj;

            // 2. Update UI (Hide login buttons, show name)
            document.getElementById('nav-guest').classList.add('hidden');
            document.getElementById('nav-user').classList.remove('hidden');
            document.getElementById('nav-username').innerText = userObj.full_name;

            // 3. === CRITICAL FIX: RESTORE IMAGE ===
            if (userObj.profile_pic) {
                // Ensure the path is correct
                const fullPath = 'http://localhost:3000/' + userObj.profile_pic;
                updateNavbarImage(fullPath);
            }
        }
    });
        //=================profile drop-down menu working===============
    // 1. Toggle the Profile Dropdown
    function toggleProfileMenu() {
        const menu = document.getElementById('profile-dropdown');
        
        if (menu.classList.contains('hidden')) {
            menu.classList.remove('hidden');
        } else {
            menu.classList.add('hidden');
        }
    }

    // 2. Close Menu if clicking outside (Crucial for UX)
    window.addEventListener('click', function(e) {
        const navUser = document.getElementById('nav-user');
        const menu = document.getElementById('profile-dropdown');
        
        // If the click is NOT inside the nav-user button/div, hide the menu
        if (navUser && !navUser.contains(e.target)) {
            menu.classList.add('hidden');
        }
    });

    // ================= PRELOADER LOGIC (RUNS ONCE) =================
    
    window.addEventListener('load', () => {
        const preloader = document.getElementById('preloader');
        const speedText = document.getElementById('speed-text');
        
        // 1. Check if we already showed the preloader
        if (sessionStorage.getItem('preloaderShown')) {
            // If yes, hide it immediately
            if(preloader) preloader.style.display = 'none';
            return; 
        }

        // 2. If not shown, run animation
        let speed = 0;
        const interval = setInterval(() => {
            speed += 2; 
            if(speed > 40 && speed < 50) speed -= 1; 
            if (speed >= 70) {
                speed = 70;
                clearInterval(interval);
            }
            if(speedText) speedText.innerText = Math.floor(speed) + " mp/h";
        }, 35); 

        // 3. Remove Preloader & Save Flag
        setTimeout(() => {
            if(preloader) {
                preloader.classList.add('fade-out'); 
                setTimeout(() => {
                    preloader.style.display = 'none';
                    // SAVE THE FLAG so it doesn't run again
                    sessionStorage.setItem('preloaderShown', 'true');
                }, 800);
            }
        }, 2500); 
    });

    
    // ================= GOOGLE LOGIN SETUP =================

    window.addEventListener('load', function() {
        if(typeof google !== 'undefined' && google.accounts) {
            google.accounts.id.initialize({
                // ðŸ‘‡ PASTE YOUR CLIENT ID HERE ðŸ‘‡
                client_id: "579203639690-fom8o4jamfm5fnauf5vgmh7akmu7kdml.apps.googleusercontent.com", 
                callback: handleGoogleLogin
            });
            
            const googleBtnContainer = document.getElementById("google-login-btn");
            if(googleBtnContainer) {
                google.accounts.id.renderButton(
                    googleBtnContainer,
                    { theme: "outline", size: "large", width: "100%" } 
                );
            }
        }
    });

    function handleGoogleLogin(response) {
        const responsePayload = decodeJwtResponse(response.credential);
        console.log("Google User:", responsePayload);
        loginWithGoogleBackend(responsePayload);
    }

    function decodeJwtResponse(token) {
        var base64Url = token.split('.')[1];
        var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
        var jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function(c) {
            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
        }).join(''));
        return JSON.parse(jsonPayload);
    }

    async function loginWithGoogleBackend(googleUser) {
        try {
            const response = await fetch('http://localhost:3000/google-login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ 
                    name: googleUser.name,
                    email: googleUser.email,
                    picture: googleUser.picture,
                    googleId: googleUser.sub 
                })
            });

            const data = await response.json();

            if (data.success) {
                alert("Google Login Successful! Welcome " + data.user.full_name);
                
                currentUserData = data.user;
                localStorage.setItem('savedUser', JSON.stringify(data.user));
                
                closeAuthModal();
                updateUIForLogin(data.user);
            } else {
                alert("Google Login Failed: " + data.message);
            }
        } catch (e) { console.error(e); }
    }
    
    // ================= GPS LOCATION LOGIC =================

function getCurrentLocation() {
    const input = document.getElementById('load-location');
    const icon = document.getElementById('gps-icon');

    // 1. Check if Geolocation is supported
    if (!navigator.geolocation) {
        alert("Geolocation is not supported by your browser.");
        return;
    }

    // 2. Change Icon to Loading Spinner
    icon.className = "fas fa-spinner fa-spin text-brand-red";

    // 3. Get Coordinates
    navigator.geolocation.getCurrentPosition(
        async (position) => {
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;

            try {
                // 4. Convert Coordinates to Address (Using Free OpenStreetMap API)
                const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);
                const data = await response.json();

                if (data && data.display_name) {
                    // Success: Fill the input
                    input.value = data.display_name;
                } else {
                    alert("Could not find address for this location.");
                }
            } catch (error) {
                console.error("Geocoding error:", error);
                alert("Error fetching address. Please type manually.");
            } finally {
                // Reset Icon
                icon.className = "fas fa-crosshairs hover:scale-110 transform transition";
            }
        },
        (error) => {
            // Handle Errors
            let msg = "An unknown error occurred.";
            switch (error.code) {
                case error.PERMISSION_DENIED:
                    msg = "User denied the request for Geolocation. Please allow location access.";
                    break;
                case error.POSITION_UNAVAILABLE:
                    msg = "Location information is unavailable.";
                    break;
                case error.TIMEOUT:
                    msg = "The request to get user location timed out.";
                    break;
            }
            alert(msg);
            // Reset Icon
            icon.className = "fas fa-crosshairs hover:scale-110 transform transition";
        },
        { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }
    );
}



// ================= AUTO-SUGGEST LOGIC (UK POSTCODES) =================

function setupAutocomplete(inputId, listId) {
    const input = document.getElementById(inputId);
    const list = document.getElementById(listId);
    let debounceTimer;

    if (!input || !list) return;

    input.addEventListener('input', function() {
        const query = this.value;
        clearTimeout(debounceTimer);

        if (query.length < 3) {
            list.style.display = 'none';
            return;
        }

        // Wait 300ms before searching (saves API calls)
        debounceTimer = setTimeout(() => {
            // Search Photon API (Limited to UK area bounding box)
            fetch(`https://photon.komoot.io/api/?q=${query}&limit=5&bbox=-8.65,49.86,1.77,60.86`)
                .then(response => response.json())
                .then(data => {
                    list.innerHTML = '';
                    if (data.features.length > 0) {
                        list.style.display = 'block';
                        data.features.forEach(feature => {
                            const props = feature.properties;
                            
                            // Build Address String intelligently
                            let addressParts = [];
                            if(props.postcode) addressParts.push(props.postcode); // Postcode first
                            if(props.name) addressParts.push(props.name);
                            if(props.street) addressParts.push(props.street);
                            if(props.city) addressParts.push(props.city);
                            else if(props.town) addressParts.push(props.town);
                            
                            // Join and remove duplicates
                            const addressText = [...new Set(addressParts)].join(', ');

                            const li = document.createElement('li');
                            li.innerHTML = `<i class="fas fa-map-marker-alt text-gray-400 mr-2"></i> ${addressText}`;
                            
                            // Click handling
                            li.onclick = function() {
                                input.value = addressText;
                                list.style.display = 'none';
                            };
                            list.appendChild(li);
                        });
                    } else {
                        list.style.display = 'none';
                    }
                })
                .catch(err => console.error(err));
        }, 300);
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', function(e) {
        if (e.target !== input && e.target !== list) {
            list.style.display = 'none';
        }
    });
}

// Activate on Page Load
document.addEventListener('DOMContentLoaded', () => {
    setupAutocomplete('load-location', 'suggestions-load');
    setupAutocomplete('unload-location', 'suggestions-unload');
});
/* ================= GPS DEBUG VERSION ================= */
function getCurrentLocation(inputId, iconId) {
    const input = document.getElementById(inputId);
    const icon = document.getElementById(iconId);

    // 1. Check if elements exist
    if (!input || !icon) {
        alert("Error: Could not find Input or Icon ID. Check your HTML.");
        return;
    }

    // 2. Check Browser Support
    if (!navigator.geolocation) {
        alert("Error: Your browser does not support Geolocation.");
        return;
    }

    // 3. Start Loading Animation
    const originalClass = icon.className;
    icon.className = "fas fa-spinner fa-spin text-brand-red";

    // 4. Request Location
    navigator.geolocation.getCurrentPosition(
        async (position) => {
            // SUCCESS: We got coordinates
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;

            try {
                // Fetch Address
                const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);
                const data = await response.json();

                if (data && data.display_name) {
                    input.value = data.display_name;
                } else {
                    alert("GPS worked, but could not find an address string.");
                }
            } catch (error) {
                alert("Internet Error: Could not connect to Map Server.");
            } finally {
                icon.className = originalClass; // Reset Icon
            }
        },
        (error) => {
            // ERROR HANDLER
            icon.className = originalClass; // Reset Icon
            
            switch(error.code) {
                case error.PERMISSION_DENIED:
                    alert("Error: You denied the location permission.");
                    break;
                case error.POSITION_UNAVAILABLE:
                    alert("Error: Location information is unavailable.");
                    break;
                case error.TIMEOUT:
                    alert("Error: The request to get user location timed out.");
                    break;
                default:
                    alert("An unknown error occurred.");
                    break;
            }
        },
        { enableHighAccuracy: true, timeout: 10000 }
    );
}

        // CONFIGURATION: Connect to the Live Backend
const API_BASE_URL = "https://samz-removal-app.onrender.com";
// const API_BASE_URL = "http://localhost:3000"; // This should be commented out or deleted

    </script>


    










<style>
    /* ... your existing styles ... */

    /* SPEEDOMETER ANIMATION STYLES */
    .meter-gauge {
        width: 200px;
        height: 100px; /* Half circle */
        background: transparent;
        border-top-left-radius: 110px;
        border-top-right-radius: 110px;
        border: 10px solid #374151; /* Gray-700 track */
        border-bottom: 0;
        position: relative;
        overflow: hidden;
    }
    
    .meter-needle {
        width: 4px;
        height: 85px;
        background: #DC2626; /* Brand Red */
        position: absolute;
        bottom: 0;
        left: 50%;
        margin-left: -2px;
        transform-origin: bottom center;
        transform: rotate(-90deg); /* Start at 0 */
        animation: revEngine 2.5s ease-in-out forwards;
        z-index: 10;
        border-radius: 4px;
    }

    .meter-center {
        width: 20px;
        height: 20px;
        background: #fff;
        border-radius: 50%;
        position: absolute;
        bottom: -10px;
        left: 50%;
        margin-left: -10px;
        z-index: 20;
    }

    /* The Needle Movement Logic */
    @keyframes revEngine {
        0% { transform: rotate(-90deg); }   /* 0 Speed */
        30% { transform: rotate(-45deg); }  /* Idle */
        40% { transform: rotate(-60deg); }  /* Rev down */
        60% { transform: rotate(45deg); }   /* Rev up */
        80% { transform: rotate(0deg); }    /* Cruising */
        100% { transform: rotate(90deg); }  /* Full Speed */
    }

    /* Fade out effect for the whole screen */
    .fade-out {
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.5s ease-out;
    }

     /* Smooth transition for the details dropdown */
    .details-content {
        transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
        max-height: 0;
        opacity: 0;
        overflow: hidden;
    }
    .details-content.open {
        max-height: 500px; /* Arbitrary large height */
        opacity: 1;
    }
    .rotate-arrow {
        transform: rotate(180deg);
        transition: transform 0.3s;
    }

    /* --- PRELOADER CSS --- */
    
    /* 1. The Gauge (Half Circle) */
    .meter-gauge {
        width: 200px;
        height: 100px; /* Half height creates the semi-circle */
        background: transparent;
        border-top-left-radius: 110px;
        border-top-right-radius: 110px;
        border: 12px solid #374151; /* Dark Gray Track */
        border-bottom: 0;
        position: relative;
        overflow: hidden;
        box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }

    /* 2. The Needle (Red Pointer) */
    .meter-needle {
        width: 6px;
        height: 90px;
        background: #DC2626; /* Brand Red */
        position: absolute;
        bottom: 0;
        left: 50%;
        margin-left: -3px;
        transform-origin: bottom center; /* Rotate from bottom */
        transform: rotate(-90deg); /* Start position (Left) */
        animation: revEngine 2.5s ease-in-out forwards;
        z-index: 10;
        border-radius: 5px;
    }

    /* 3. The Center Dot */
    .meter-center {
        width: 24px;
        height: 24px;
        background: #fff;
        border-radius: 50%;
        position: absolute;
        bottom: -12px;
        left: 50%;
        margin-left: -12px;
        z-index: 20;
        box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    }

    /* 4. The Animation (Revving Engine) */
    @keyframes revEngine {
        0% { transform: rotate(-90deg); }   /* 0 Speed */
        20% { transform: rotate(-50deg); }  /* Idle/Start */
        40% { transform: rotate(-70deg); }  /* Rev Down */
        60% { transform: rotate(20deg); }   /* Rev Up fast */
        80% { transform: rotate(0deg); }    /* Steady */
        100% { transform: rotate(90deg); }  /* Max Speed */
    }

    /* 5. Fade Out Class (Added by JS later) */
    .fade-out {
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.8s ease-out;
    }
    
    /* Auto-Suggestion Dropdown Styles */
.suggestions-list {
    position: absolute;
    background: white;
    border: 1px solid #e5e7eb;
    width: 100%;
    z-index: 50;
    max-height: 200px;
    overflow-y: auto;
    display: none; /* Hidden by default */
    border-radius: 0 0 8px 8px;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    margin-top: 2px;
}
.suggestions-list li {
    padding: 10px 12px;
    cursor: pointer;
    font-size: 0.875rem;
    border-bottom: 1px solid #f3f4f6;
    color: #374151;
}
.suggestions-list li:hover {
    background-color: #fef2f2; /* Light Red Hover */
    color: #DC2626;
}
</style>














</head>





<body class="font-sans text-gray-600 antialiased flex flex-col min-h-screen bg-gray-50">
    <div id="preloader" class="fixed inset-0 z-[100] bg-gray-900 flex flex-col items-center justify-center">
        
        <div class="relative mb-8">
            <div class="meter-gauge"></div>
            <div class="meter-needle"></div>
            <div class="meter-center"></div>
            
            <div class="absolute bottom-0 left-4 w-2 h-4 bg-gray-600 rotate-[-70deg]"></div>
            <div class="absolute bottom-16 left-8 w-2 h-4 bg-gray-600 rotate-[-45deg]"></div>
            <div class="absolute top-4 left-1/2 -ml-1 w-2 h-4 bg-red-600"></div>
            <div class="absolute bottom-16 right-8 w-2 h-4 bg-gray-600 rotate-[45deg]"></div>
            <div class="absolute bottom-0 right-4 w-2 h-4 bg-gray-600 rotate-[70deg]"></div>
        </div>

        <h2 class="text-2xl font-bold text-white tracking-widest animate-pulse">
            STARTING ENGINE...
        </h2>
        <p class="text-brand-red font-mono mt-2 text-xl" id="speed-text">0 km/h</p>

    </div>
    



    <nav class="absolute top-0 left-0 w-full z-40 py-4 px-4 sm:px-8">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            
            <a href="#" class="flex items-center gap-3">
                <img src="images/logo.jpg" 
                     alt="Logo" class="h-12 w-auto object-contain rounded-md border-2 border-white/20">
                <div class="flex flex-col">
                    <span class="text-xl font-bold text-white leading-none">Samz Removal</span>
                    <span class="text-xs text-gray-300 font-medium uppercase">& Delivery</span>
                </div>
            </a>

            <div class="hidden md:flex space-x-8 text-sm font-medium text-white">
                <a href="#" class="hover:text-gray-200 transition">Business</a>
                <a href="shifting.html" class="hover:text-gray-200 transition">Shifting</a>
                
                <a href="courier.html" class="text-blue-400 font-bold hover:text-white transition">Courier</a>
                
                <a href="truck-owner.html" class="hover:text-gray-200 transition">Truck Owner</a>
                <a href="#" class="hover:text-gray-200 transition">Blog</a>
            </div>

            <div class="hidden md:flex items-center gap-4">
                <a href="tracking.html" class="text-white border border-white/30 bg-white/10 backdrop-blur-sm px-4 py-2 rounded hover:bg-white hover:text-brand-red transition text-sm font-medium flex items-center gap-2">
                    <i class="fas fa-map-marker-alt text-red-400"></i> Track by GPS
                </a>

                <div id="nav-guest" class="flex items-center gap-4">
                    <button onclick="openAuthModal('login')" class="px-5 py-2 rounded border-2 border-white text-white font-bold hover:bg-white hover:text-brand-red transition">Log in</button>
                    <button onclick="openAuthModal('signup')" class="px-6 py-2 rounded bg-brand-red text-white font-bold hover:bg-red-700 transition shadow-lg">Sign up</button>
                </div>

                <div id="nav-user" class="hidden relative ml-4">
                
                <button onclick="toggleProfileMenu()" class="flex items-center gap-3 focus:outline-none hover:opacity-90 transition group">
                    <div class="text-right hidden lg:block">
                        <p class="text-[10px] text-gray-300 uppercase tracking-wider font-semibold">Welcome</p>
                        <p id="nav-username" class="text-white font-bold text-sm leading-none">User</p>
                    </div>
                    
                    <div class="h-10 w-10 bg-white rounded-full flex items-center justify-center text-brand-red font-bold text-lg shadow-lg border-2 border-transparent overflow-hidden">
                        <i class="fas fa-user"></i>
                    </div>
                    
                    <i class="fas fa-chevron-down text-gray-400 text-xs mt-1 group-hover:text-white transition"></i>
                </button>

                <div id="profile-dropdown" class="hidden absolute right-0 mt-3 w-56 bg-white rounded-xl shadow-2xl py-2 border border-gray-100 z-50">
                    
                    <div class="px-4 py-3 border-b border-gray-100 md:hidden">
                        <p class="text-sm font-bold text-gray-900">Account Menu</p>
                    </div>

                    <button onclick="openProfileModal()" class="w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-red-50 hover:text-brand-red transition flex items-center gap-2">
                        <i class="fas fa-user-circle text-gray-400"></i> My Profile
                    </button>
                    
                    <button onclick="openBookingsModal()" class="w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-red-50 hover:text-brand-red transition flex items-center gap-2">
                        <i class="fas fa-history text-gray-400"></i> My Bookings
                    </button>
                    
                    <button onclick="openSettingsModal()" class="w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-red-50 hover:text-brand-red transition flex items-center gap-2">
                        <i class="fas fa-cog text-gray-400"></i> Settings
                    </button>
                    
                    <div class="border-t border-gray-100 my-1"></div>
                    
                    <button onclick="handleLogout()" class="w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 font-bold transition flex items-center gap-2">
                        <i class="fas fa-sign-out-alt"></i> Log Out
                    </button>
                </div>

            </div>


            </div>

            <button onclick="toggleMobileMenu()" class="md:hidden text-white text-2xl focus:outline-none">
                <i class="fas fa-bars"></i>
            </button>
        </div>

        <div id="mobile-menu" class="hidden md:hidden absolute top-full left-0 w-full bg-gray-900 border-t border-gray-800 shadow-xl p-4 flex-col gap-4">
            
            <div id="mobile-nav-user" class="hidden flex items-center gap-3 bg-gray-800 p-3 rounded-lg mb-2">
                <div class="h-10 w-10 bg-white rounded-full flex items-center justify-center text-brand-red font-bold">
                    <i class="fas fa-user"></i>
                </div>
                <div>
                    <p class="text-xs text-gray-400">Welcome Back,</p>
                    <p id="mobile-username" class="text-white font-bold">User Name</p>
                </div>
            </div>

            <div id="mobile-nav-guest" class="flex gap-3 mb-2">
                <button onclick="openAuthModal('login')" class="flex-1 py-2 border border-white text-white rounded text-sm font-bold">Log In</button>
                <button onclick="openAuthModal('signup')" class="flex-1 py-2 bg-brand-red text-white rounded text-sm font-bold">Sign Up</button>
            </div>

            <a href="#" class="text-gray-300 hover:text-white py-2 border-b border-gray-800">Business</a>
            <a href="shifting.html" class="text-gray-300 hover:text-white py-2 border-b border-gray-800">Shifting</a>
            
            <a href="courier.html" class="text-blue-400 font-bold py-2 border-b border-gray-800">Courier</a>
            
            <a href="truck-owner.html" class="text-gray-300 hover:text-white py-2 border-b border-gray-800">Truck Owner</a>
            <a href="tracking.html" class="text-brand-red font-bold py-2 flex items-center gap-2">
                <i class="fas fa-map-marker-alt"></i> Track by GPS
            </a>

            <div id="mobile-user-links" class="hidden flex-col gap-2 mt-2">
                <button onclick="openProfileModal()" class="text-left text-gray-300 text-sm">My Profile</button>
                <button onclick="openBookingsModal()" class="text-left text-gray-300 text-sm">My Bookings</button>
                <button onclick="handleLogout()" class="text-left text-red-400 text-sm font-bold mt-2">Log Out</button>
            </div>
        </div>
    </nav>

    <div class="relative w-full h-[600px] bg-gray-900 flex flex-col justify-center items-center">
        
        <div class="absolute inset-0 z-0">
            <img src="images/Cover photo-2.png" 
                 alt="Truck Background" 
                 class="w-full h-full object-cover opacity-60">
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/30 to-black/60"></div>
        </div>

        <div class="relative z-10 text-center px-4 mt-10">
            <h1 class="text-4xl md:text-6xl font-bold text-white mb-6 leading-tight">
                Fastest way to <br> rent a Van
            </h1>
            <button class="bg-brand-red text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:bg-red-700 transition flex items-center gap-2 mx-auto">
                <i class="fas fa-mobile-alt"></i> Download App
            </button>
        </div>

        <div class="absolute bottom-0 w-full translate-y-1/2 px-4 z-20">
            <div class="max-w-5xl mx-auto bg-white rounded-lg shadow-2xl p-6 border-t-4 border-brand-red">
                
                <h3 class="text-lg font-bold text-gray-800 mb-4">Book a Van</h3>
                
                <form class="grid grid-cols-1 md:grid-cols-12 gap-4 items-end">
                    
<div class="md:col-span-5 relative"> <label class="block text-xs font-semibold text-gray-500 mb-1 uppercase">Load Location</label>
    <div class="relative">
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <i class="fas fa-arrow-circle-up text-blue-500 text-lg"></i>
        </div>
        
        <input type="text" id="load-location" autocomplete="off"
               class="w-full pl-10 pr-10 py-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-brand-red focus:border-transparent" 
               placeholder="Enter postcode or area">
        
        <div onclick="getCurrentLocation('load-location', 'icon-load')" 
             class="absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer text-gray-400 hover:text-brand-red transition" 
             title="Use Current Location">
            <i id="icon-load" class="fas fa-crosshairs hover:scale-110 transform transition"></i>
        </div>
    </div>
    <ul id="suggestions-load" class="suggestions-list"></ul>
</div>

                    
                    
                    <div class="md:col-span-5 relative">
    <label class="block text-xs font-semibold text-gray-500 mb-1 uppercase">Unload Location</label>
    <div class="relative">
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <i class="fas fa-arrow-circle-down text-green-500 text-lg"></i>
        </div>
        
        <input type="text" id="unload-location" autocomplete="off"
               class="w-full pl-10 pr-10 py-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-brand-red focus:border-transparent" 
               placeholder="Enter postcode or area">
        
        <div onclick="getCurrentLocation('unload-location', 'icon-unload')" 
             class="absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer text-gray-400 hover:text-brand-red transition" 
             title="Use Current Location">
            <i id="icon-unload" class="fas fa-crosshairs hover:scale-110 transform transition"></i>
        </div>
    </div>
    <ul id="suggestions-unload" class="suggestions-list"></ul>
</div>


                    <div class="md:col-span-2">
                                        <button type="button" 
                                        onclick="startBooking()" 
                                        class="w-full bg-brand-red text-white font-bold py-3 rounded hover:bg-red-700 transition shadow-md">
                                    Hire Truck
                                        </button>
                    </div>

                </form>
            </div>
        </div>
    </div>

    <div class="h-24 bg-white"></div>

    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h2 class="text-2xl font-bold text-gray-800 mb-2">Why choose Sam Removalzs?</h2>
            <p class="text-gray-500 mb-12">We provide the best logistics service in the country.</p>
            
            <div class="grid md:grid-cols-3 gap-8">
                <div class="p-6 bg-gray-50 rounded-xl hover:shadow-md transition">
                    <i class="fas fa-truck text-4xl text-brand-red mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">Various Van</h3>
                    <p class="text-gray-600">Pickups to covered vans, get any truck you need.</p>
                </div>
                <div class="p-6 bg-gray-50 rounded-xl hover:shadow-md transition">
                    <i class="fas fa-stopwatch text-4xl text-brand-red mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">Fast Service</h3>
                    <p class="text-gray-600">Get a truck within minutes right from the app.</p>
                </div>
                <div class="p-6 bg-gray-50 rounded-xl hover:shadow-md transition">
                    <i class="fas fa-tags text-4xl text-brand-red mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">Best Price</h3>
                    <p class="text-gray-600">Bidding system ensures you get the best market rate.</p>
                </div>
            </div>
        </div>
    </section>


    <section class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                
                <div class="space-y-4">
                    
                    <div class="border border-red-100 rounded-xl p-6 shadow-lg bg-white relative overflow-hidden transition-all duration-300">
                        <div class="absolute left-0 top-0 h-full w-1 bg-brand-red"></div>
                        
                        <div class="flex justify-between items-center mb-4 cursor-pointer" onclick="toggleAccordion('step1-content', 'step1-icon')">
                            <h3 class="text-lg font-bold text-gray-900">1. Download App & Sign Up</h3>
                            <i id="step1-icon" class="fas fa-minus text-gray-400"></i>
                        </div>

                        <div id="step1-content">
                            <p class="text-gray-500 text-sm mb-6 leading-relaxed">
                                Install the app from Google Play Store and complete your registration safely to start booking trucks immediately.
                            </p>
                            <button class="bg-black text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-gray-800 transition w-fit mb-4">
                                <i class="fab fa-google-play text-xl"></i>
                                <div class="text-left">
                                    <div class="text-[10px] uppercase leading-none">Get it on</div>
                                    <div class="text-sm font-bold leading-none">Google Play</div>
                                </div>
                            </button>
                            
                            <button class="bg-black text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-gray-800 transition w-fit">
                                <i class="fab fa-apple text-xl"></i>
                                <div class="text-left">
                                    <div class="text-[10px] uppercase leading-none">Download on the</div>
                                    <div class="text-sm font-bold leading-none">App Store</div>
                                </div>
                            </button>
                        </div>
                    </div>

                    <div class="border border-gray-100 rounded-xl p-6 bg-white hover:shadow-md transition-all duration-300">
    
                    <div class="flex justify-between items-center cursor-pointer" onclick="toggleAccordion('step2-content', 'step2-icon')">
                         <h3 class="text-lg font-bold text-gray-900">2. Select Location</h3>
                        <i id="step2-icon" class="fas fa-plus text-brand-red"></i>
                    </div>

                     <div id="step2-content" class="hidden mt-4">
                        <p class="text-gray-500 text-sm leading-relaxed">
                         Select the load point and unload point for your goods.
                        </p>
                    </div>
                    </div>

                    <div class="border border-gray-100 rounded-xl p-6 bg-white hover:shadow-md transition-all duration-300">
    
                    <div class="flex justify-between items-center cursor-pointer" onclick="toggleAccordion('step3-content', 'step3-icon')">
                        <h3 class="text-lg font-bold text-gray-900">3. Choose Van Type</h3>
                        <i id="step3-icon" class="fas fa-plus text-brand-red"></i>
                    </div>

                    <div id="step3-content" class="hidden mt-4">
                        <p class="text-gray-500 text-sm leading-relaxed">
                            Select the type of van you need according to your requirements.
                        </p>
                    </div>
                    </div>

                    <div class="border border-gray-100 rounded-xl p-6 bg-white hover:shadow-md transition-all duration-300">
    
                    <div class="flex justify-between items-center cursor-pointer" onclick="toggleAccordion('step4-content', 'step4-icon')">
                        <h3 class="text-lg font-bold text-gray-900">4. Enter Details</h3>
                        <i id="step4-icon" class="fas fa-plus text-brand-red"></i>
                    </div>

                    <div id="step4-content" class="hidden mt-4">
                        <p class="text-gray-500 text-sm leading-relaxed">
                            Specify the date and time you want to transport your goods. Then provide detailed information about the items as required.
                        </p>
                    </div>
                </div>

                    <div class="border border-gray-100 rounded-xl p-6 bg-white hover:shadow-md transition-all duration-300">
    
                    <div class="flex justify-between items-center cursor-pointer" onclick="toggleAccordion('step5-content', 'step5-icon')">
                        <h3 class="text-lg font-bold text-gray-900">5. Publish Trip</h3>
                        <i id="step5-icon" class="fas fa-plus text-brand-red"></i>
                    </div>

                    <div id="step5-content" class="hidden mt-4">
                        <p class="text-gray-500 text-sm leading-relaxed">
                            Finally, publish the trip. Your trip will be matched with a Van according to your needs. Now enjoy safe transportation of goods along with other app features and special offers.
                        </p>
                    </div>
                </div>

                </div>

                <div class="relative flex justify-center">
                    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] bg-red-50 rounded-full -z-10"></div>
                    <img src="images/phone.png" 
                         alt="App Screenshot" 
                         class="w-80 rounded-3xl shadow-2xl border-0 border-gray-800">
                </div>

            </div>
        </div>
    </section>
    <br>
    <section class="py-20 bg-gray-50 border-t border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-3">Customer Experience</h2>
                <p class="text-gray-500">Hear what our customers are saying about our service</p>
            </div>

            <div class="relative mb-20">
                
                <div id="testimonial-page-1" class="grid grid-cols-1 md:grid-cols-3 gap-8 fade-in">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                        <p class="text-gray-600 mb-6 text-sm leading-relaxed">"Samz Removal made my house moving so easy. The truck arrived exactly on time and the driver was very helpful."</p>
                        <div class="flex items-center gap-4">
                            <img src="https://i.pravatar.cc/150?img=1" alt="User" class="w-12 h-12 rounded-full object-cover">
                            <div>
                                <h4 class="font-bold text-gray-900 text-sm">Sarah Jenkins</h4>
                                <p class="text-xs text-gray-500">Small Business Owner</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                        <p class="text-gray-600 mb-6 text-sm leading-relaxed">"The app is super smooth. I booked a pickup truck for my furniture delivery and got the best rate in the market."</p>
                        <div class="flex items-center gap-4">
                            <img src="https://i.pravatar.cc/150?img=3" alt="User" class="w-12 h-12 rounded-full object-cover">
                            <div>
                                <h4 class="font-bold text-gray-900 text-sm">Alex</h4>
                                <p class="text-xs text-gray-500">Corporate Manager</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                        <p class="text-gray-600 mb-6 text-sm leading-relaxed">"Highly recommended for shifting. The bidding system allows you to choose the price that fits your budget."</p>
                        <div class="flex items-center gap-4">
                            <img src="https://i.pravatar.cc/150?img=8" alt="User" class="w-12 h-12 rounded-full object-cover">
                            <div>
                                <h4 class="font-bold text-gray-900 text-sm">Jhon Lewis</h4>
                                <p class="text-xs text-gray-500">IT Manager</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="testimonial-page-2" class="hidden grid-cols-1 md:grid-cols-3 gap-8 fade-in">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                        <p class="text-gray-600 mb-6 text-sm leading-relaxed">"Great support team! They helped me track my shipment in real-time. Very safe and secure."</p>
                        <div class="flex items-center gap-4">
                            <img src="https://i.pravatar.cc/150?img=12" alt="User" class="w-12 h-12 rounded-full object-cover">
                            <div>
                                <h4 class="font-bold text-gray-900 text-sm">Michael Ross</h4>
                                <p class="text-xs text-gray-500">Logistics Head</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                        <p class="text-gray-600 mb-6 text-sm leading-relaxed">"I use this app daily for my shop deliveries. It is reliable and the drivers are professional."</p>
                        <div class="flex items-center gap-4">
                            <img src="https://i.pravatar.cc/150?img=33" alt="User" class="w-12 h-12 rounded-full object-cover">
                            <div>
                                <h4 class="font-bold text-gray-900 text-sm">David Green</h4>
                                <p class="text-xs text-gray-500">Shop Owner</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                        <p class="text-gray-600 mb-6 text-sm leading-relaxed">"Fastest service in London. I requested a truck and it was at my doorstep within 20 minutes."</p>
                        <div class="flex items-center gap-4">
                            <img src="https://i.pravatar.cc/150?img=5" alt="User" class="w-12 h-12 rounded-full object-cover">
                            <div>
                                <h4 class="font-bold text-gray-900 text-sm">Anita Roy</h4>
                                <p class="text-xs text-gray-500">Freelancer</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex justify-center gap-2 mt-8">
                    <button onclick="showTestimonialPage(1)" id="dot-1" class="w-3 h-3 rounded-full bg-brand-red transition-all"></button>
                    <button onclick="showTestimonialPage(2)" id="dot-2" class="w-3 h-3 rounded-full bg-gray-300 hover:bg-brand-red transition-all"></button>
                </div>

            </div>

            

                <div class="flex flex-wrap justify-center items-center gap-8 md:gap-16">
    
    <div class="group flex flex-col items-center cursor-pointer transition-transform hover:scale-110">
        <div class="bg-red-600 text-white font-bold px-3 py-1 rounded shadow-sm border-2 border-red-600">
            <div class="flex flex-col items-center leading-none">
                <i class="fas fa-leaf text-[8px] mb-0.5 text-yellow-400"></i> <span class="text-xl tracking-tighter">DANO</span>
            </div>
        </div>
    </div>

    <div class="group flex items-center cursor-pointer grayscale hover:grayscale-0 transition-all duration-300">
        <div class="text-blue-700 text-3xl font-bold mr-1" style="transform: skewX(-10deg);">W</div>
        <span class="text-blue-800 text-2xl font-bold tracking-wide">WALTON</span>
    </div>

    <div class="group cursor-pointer grayscale hover:grayscale-0 transition-all duration-300">
        <img src="images/logo.jpg" 
             alt="Unilever" 
             class="h-16 w-auto object-contain">
    </div>

    <div class="group cursor-pointer grayscale hover:grayscale-0 transition-all duration-300">
        <img src="images/dpd.png" 
             alt="DPD" 
             class="h-16 w-auto object-contain">
    </div>

    <div class="group relative flex items-center justify-center h-14 w-24 cursor-pointer grayscale hover:grayscale-0 transition-all duration-300">
        <div class="absolute bg-red-600 rounded-full w-12 h-12"></div>
        <div class="relative z-10">
             <span class="text-gray-900 font-bold text-xl italic font-serif tracking-tighter" style="text-shadow: 2px 2px 0px white, -2px -2px 0px white, 2px -2px 0px white, -2px 2px 0px white;">Saiham</span>
        </div>
        <div class="absolute h-full w-0.5 bg-white z-20 rotate-12"></div>
    </div>

    <div class="group cursor-pointer grayscale hover:grayscale-0 transition-all duration-300">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/Pepsi_logo_2014.svg/2560px-Pepsi_logo_2014.svg.png" 
             alt="Pepsi" 
             class="h-14 w-auto object-contain">
    </div>

</div>

<div class="flex justify-center gap-1 mt-6">
    <div class="w-2 h-2 rounded-full bg-gray-800"></div> <div class="w-2 h-2 rounded-full bg-gray-300"></div>
</div>







        </div>
    </section>

    <script>
        function showTestimonialPage(pageNumber) {
            const page1 = document.getElementById('testimonial-page-1');
            const page2 = document.getElementById('testimonial-page-2');
            const dot1 = document.getElementById('dot-1');
            const dot2 = document.getElementById('dot-2');

            if (pageNumber === 1) {
                // Show Page 1
                page1.classList.remove('hidden');
                page1.classList.add('grid');
                page2.classList.add('hidden');
                page2.classList.remove('grid');

                // Update Dots (Red for active)
                dot1.classList.remove('bg-gray-300');
                dot1.classList.add('bg-brand-red');
                dot2.classList.remove('bg-brand-red');
                dot2.classList.add('bg-gray-300');
            } else {
                // Show Page 2
                page1.classList.add('hidden');
                page1.classList.remove('grid');
                page2.classList.remove('hidden');
                page2.classList.add('grid');

                // Update Dots
                dot1.classList.remove('bg-brand-red');
                dot1.classList.add('bg-gray-300');
                dot2.classList.remove('bg-gray-300');
                dot2.classList.add('bg-brand-red');
            }
        }
    </script>




    <br>
    <section class="py-20 bg-white border-t border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                
                <div>
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6 leading-tight">
                        Enjoy our service through our <br> mobile app
                    </h2>
                    <p class="text-gray-600 text-lg mb-8 leading-relaxed">
                        Download our mobile app and enjoy a unique truck rental experience. Get access to exclusive features and attractive discounts available only on the app.
                    </p>

                    <ul class="space-y-4 mb-10">
                        <li class="flex items-center gap-3">
                            <i class="fas fa-check-circle text-brand-red text-xl"></i>
                            <span class="text-gray-700 font-medium">Multiple stop selection</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <i class="fas fa-check-circle text-brand-red text-xl"></i>
                            <span class="text-gray-700 font-medium">Fixed rate pickup rentals within the city</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <i class="fas fa-check-circle text-brand-red text-xl"></i>
                            <span class="text-gray-700 font-medium">Full-day truck hire</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <i class="fas fa-check-circle text-brand-red text-xl"></i>
                            <span class="text-gray-700 font-medium">Round-trip bookings</span>
                        </li>
                    </ul>

                    <button class="bg-black text-white px-6 py-3 rounded-lg flex items-center gap-3 hover:bg-gray-800 transition shadow-md">
                        <i class="fab fa-google-play text-3xl"></i>
                        <div class="text-left">
                            <div class="text-xs uppercase leading-none opacity-80">Get it on</div>
                            <div class="text-lg font-bold leading-none mt-1">Google Play</div>
                        </div>
                    </button>
                </div>

                <div class="flex justify-centerlg:justify-end">
                    <img src="images/london delivery home page.png" 
                         alt="Mobile App and Trucks" 
                         class="w-full max-w-xl object-contain">
                </div>

            </div>
        </div>
    </section>
    

   

<footer class="bg-white pt-16 border-t border-gray-100 mt-auto font-sans">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <div class="grid grid-cols-2 md:grid-cols-5 gap-8 mb-12">
            
            <div>
                <h3 class="text-gray-900 font-bold mb-4">Service</h3>
                <ul class="space-y-2 text-sm text-gray-600">
                    <li><a href="#" class="hover:text-brand-red transition">Shipper</a></li>
                    <li><a href="#" class="hover:text-brand-red transition">Business</a></li>
                    <li><a href="#" class="hover:text-brand-red transition">Shifting</a></li>
                    <li><a href="#" class="hover:text-brand-red transition">Truck Owner</a></li>
                    <li><a href="#" class="hover:text-brand-red transition">FAQ</a></li>
                </ul>
            </div>

            <div>
                <h3 class="text-gray-900 font-bold mb-4">Company</h3>
                <ul class="space-y-2 text-sm text-gray-600">
                    <li><a href="#" class="hover:text-brand-red transition">Blog</a></li>
                    <li><a href="#" class="hover:text-brand-red transition">Career</a></li>
                    <li><a href="#" class="hover:text-brand-red transition">Contact Us</a></li>
                    <li><a href="#" class="hover:text-brand-red transition">Truck Categories</a></li>
                </ul>
            </div>

            <div>
                <h3 class="text-gray-900 font-bold mb-4">Legal</h3>
                <ul class="space-y-2 text-sm text-gray-600">
                    <li><a href="#" class="hover:text-brand-red transition">Terms - Shipper</a></li>
                    <li><a href="#" class="hover:text-brand-red transition">Terms - Truck Owner</a></li>
                    <li><a href="#" class="hover:text-brand-red transition">Privacy Policy</a></li>
                </ul>
            </div>

            <div>
                <h3 class="text-gray-900 font-bold mb-4">Shopping</h3>
                <ul class="space-y-2 text-sm text-gray-600">
                    <li><a href="#" class="hover:text-brand-red transition">Samz Sell Shop</a></li>
                </ul>
            </div>

            <div>
                <h3 class="text-gray-900 font-bold mb-4">Contact</h3>
                <ul class="space-y-3 text-sm text-gray-600">
                    <li>
                        <a href="mailto:customercare@trucklagbe.com" class="hover:text-brand-red transition">customercare@samzremoval.com</a>
                    </li>
                    <li>
                        <a href="tel:+8801938000245" class="hover:text-brand-red transition">+44 7498838349</a>
                    </li>
                </ul>
                
                <div class="flex space-x-3 mt-4">
                    <a href="#" class="w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-700 transition"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-700 transition"><i class="fab fa-youtube"></i></a>
                    <a href="#" class="w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-700 transition"><i class="fab fa-linkedin-in"></i></a>
                    <a href="#" class="w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-700 transition"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-700 transition"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>

        <div class="border-t border-gray-200 py-8 flex flex-col md:flex-row justify-between items-center gap-6">
            
            <div class="flex flex-col items-center md:items-start gap-2">
                <a href="#" class="flex items-center gap-2">
                     <img src="images/logo.jpg" alt="Logo" class="h-10 w-auto object-contain">
                     <span class="text-xl font-bold text-gray-800">Samz Removal</span>
                </a>
                <p class="text-xs text-gray-500 mt-2">
                    Copyright 2025 Â© Samz Removal Ltd | All rights reserved
                </p>
            </div>

            <div class="text-center md:text-right">
                <h4 class="text-sm font-bold text-gray-1000 mb-3">Download Samz Removal App</h4>
                <div class="flex gap-4">
                    <div>
                        <span class="block text-[10px] text-gray-500 mb-1 text-left pl-1">Shipper</span>
                        <button class="bg-black text-white px-3 py-1.5 rounded flex items-center gap-2 hover:bg-gray-800 transition">
                            <i class="fab fa-google-play text-lg"></i>
                            <div class="text-left">
                                <div class="text-[8px] uppercase leading-none">Get it on</div>
                                <div class="text-xs font-bold leading-none">Google Play</div>
                            </div>
                        </button>
                    </div>

                    <div>
                        <span class="block text-[10px] text-gray-500 mb-1 text-left pl-1">Van Owner</span>
                        <button class="bg-black text-white px-3 py-1.5 rounded flex items-center gap-2 hover:bg-gray-800 transition">
                            <i class="fab fa-google-play text-lg"></i>
                            <div class="text-left">
                                <div class="text-[8px] uppercase leading-none">Get it on</div>
                                <div class="text-xs font-bold leading-none">Google Play</div>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="bg-gray-100 py-10 mt-4">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            
            <div class="border-b border-gray-300 pb-2 mb-6">
                <h3 class="text-gray-800 font-bold">Truck Categories & Brands</h3>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-5 gap-8">
                
                <div>
                    <h4 class="font-bold text-sm mb-3 text-gray-800">MIni Van</h4>
                    
                </div>

                <div>
                    <h4 class="font-bold text-sm mb-3 text-gray-800">Sprinter Van</h4>
                    
                </div>

                <div>
                    <h4 class="font-bold text-sm mb-3 text-gray-800">Luton Van</h4>
                    
                </div>

                <div>
                    <h4 class="font-bold text-sm mb-3 text-gray-800">Trailer Van</h4>
                   
                </div>

                

            </div>
        </div>
    </div>
</footer>

    <script>
        function toggleAccordion(contentId, iconId) {
            const content = document.getElementById(contentId);
            const icon = document.getElementById(iconId);

            if (content.classList.contains('hidden')) {
                // Show Content
                content.classList.remove('hidden');
                
                // Switch Icon to Minus (Gray)
                icon.classList.remove('fa-plus');
                icon.classList.add('fa-minus');
                icon.classList.remove('text-brand-red'); // remove red
                icon.classList.add('text-gray-400');     // add gray
            } else {
                // Hide Content
                content.classList.add('hidden');
                
                // Switch Icon to Plus (Red)
                icon.classList.remove('fa-minus');
                icon.classList.add('fa-plus');
                icon.classList.remove('text-gray-400');  // remove gray
                icon.classList.add('text-brand-red');    // add red
            }
        }
    </script>


<div id="orderTypeModal" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    
    <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeOrderModal()"></div>

    <div class="fixed inset-0 z-10 overflow-y-auto">
        <div class="flex min-h-full items-center justify-center p-4 text-center">
            
            <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:w-full sm:max-w-lg border-t-4 border-brand-red">
                
                <div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4 flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-900">Choose Booking Type</h3>
                    <button onclick="closeOrderModal()" class="text-gray-400 hover:text-gray-500 focus:outline-none">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>

                <div class="p-6 bg-gray-50 grid grid-cols-1 sm:grid-cols-2 gap-4">
                    
                    <div onclick="selectOrderType('Hourly')" class="cursor-pointer bg-white p-6 rounded-xl border-2 border-transparent hover:border-brand-red hover:shadow-lg transition-all flex flex-col items-center text-center group">
                        <div class="w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-blue-100 text-blue-600">
                            <i class="fas fa-clock text-3xl"></i>
                        </div>
                        <h4 class="text-lg font-bold text-gray-800">Hourly Rate</h4>
                        <p class="text-xs text-gray-500 mt-2">Pay by the hour. Best for multiple stops or uncertain time.</p>
                    </div>

                    <div onclick="selectOrderType('Fixed')" class="cursor-pointer bg-white p-6 rounded-xl border-2 border-transparent hover:border-brand-red hover:shadow-lg transition-all flex flex-col items-center text-center group">
                        <div class="w-16 h-16 bg-green-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-green-100 text-green-600">
                            <i class="fas fa-tags text-3xl"></i>
                        </div>
                        <h4 class="text-lg font-bold text-gray-800">Fixed Price</h4>
                        <p class="text-xs text-gray-500 mt-2">Set price for point-to-point delivery. No hidden costs.</p>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


<div id="vanModal" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    
    <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeVanModal()"></div>

    <div class="fixed inset-0 z-10 overflow-y-auto">
        <div class="flex min-h-full items-center justify-center p-4 text-center">
            
            <div class="relative transform rounded-lg bg-white text-left shadow-xl transition-all w-full max-w-5xl border-t-4 border-brand-red">
                
                <div class="bg-white px-6 py-4 border-b border-gray-100 flex justify-between items-center rounded-t-lg">
                    <div>
                        <h3 class="text-xl font-bold text-gray-900">Select Your Truck</h3>
                        <p class="text-sm text-gray-500" id="selected-mode-display">Mode: Fixed</p>
                    </div>
                    <button onclick="closeVanModal()" class="text-gray-400 hover:text-gray-500 focus:outline-none">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>

                <div class="bg-gray-50 px-6 pt-2 border-b border-gray-200 overflow-x-auto">
                    <div class="flex space-x-8" id="tab-container">
                        </div>
                </div>

                <div class="p-6 bg-gray-50 min-h-[300px]" id="vehicle-list-container">
                    </div>

            </div>
        </div>
    </div>
</div>


<div id="bookingDetailsModal" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    
    <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm"></div>

    <div class="fixed inset-0 z-10 overflow-y-auto">
        <div class="flex min-h-full items-center justify-center p-4 text-center">
            
            <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all w-full max-w-4xl border-t-4 border-brand-red">
                
                <div class="bg-white px-6 py-4 border-b border-gray-100 flex justify-between items-center">
                    <div class="flex items-center gap-3">
                        <button onclick="backToVehicles()" class="text-gray-400 hover:text-gray-600 transition">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h3 class="text-xl font-bold text-gray-900">Trip Details</h3>
                    </div>
                    <button onclick="closeBookingModal()" class="text-gray-400 hover:text-gray-500 focus:outline-none">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>

                <div class="p-6 bg-gray-50 grid grid-cols-1 md:grid-cols-3 gap-6">
                    
                    <div class="md:col-span-2 space-y-6">
                        
                        <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                            <h4 class="text-sm font-bold text-gray-700 mb-3 uppercase flex items-center gap-2">
                                <i class="far fa-calendar-alt text-brand-red"></i> When do you need it?
                            </h4>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-xs text-gray-500 mb-1">Date</label>
                                    <input type="date" class="w-full border border-gray-300 rounded p-2 text-sm focus:ring-brand-red focus:border-brand-red">
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-500 mb-1">Time</label>
                                    <input type="time" class="w-full border border-gray-300 rounded p-2 text-sm focus:ring-brand-red focus:border-brand-red">
                                </div>
                            </div>
                        </div>

                        
                        <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                            <h4 class="text-sm font-bold text-gray-700 mb-3 uppercase flex items-center gap-2">
                                    <i class="fas fa-people-carry text-brand-red"></i> Do you need helpers?
                                </h4>
                                <div class="flex gap-3">
                                    
                                    <div onclick="selectHelper(0, this)" class="helper-option cursor-pointer border-2 border-brand-red bg-red-50 rounded px-4 py-2 transition flex-1 text-center">
                                        <span class="text-sm font-medium">Driver Only</span>
                                    </div>

                                    <div onclick="selectHelper(30, this)" class="helper-option cursor-pointer border-2 border-gray-200 bg-white rounded px-4 py-2 hover:border-red-200 transition flex-1 text-center">
                                        <span class="text-sm font-medium">1 Helper (+Â£30)</span>
                                    </div>

                                    <div onclick="selectHelper(50, this)" class="helper-option cursor-pointer border-2 border-gray-200 bg-white rounded px-4 py-2 hover:border-red-200 transition flex-1 text-center">
                                        <span class="text-sm font-medium">2 Helpers (+Â£50)</span>
                                    </div>

                                </div>
                            </div>





                        <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                            <h4 class="text-sm font-bold text-gray-700 mb-3 uppercase flex items-center gap-2">
                                <i class="fas fa-user text-brand-red"></i> Receiver Info
                            </h4>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <input type="text" placeholder="Receiver Name" class="w-full border border-gray-300 rounded p-2 text-sm">
                                <input type="tel" placeholder="Mobile Number" class="w-full border border-gray-300 rounded p-2 text-sm">
                            </div>
                            <textarea rows="2" placeholder="Description of goods (e.g., Sofa, 10 Boxes, Bed)" class="w-full border border-gray-300 rounded p-2 text-sm mt-4"></textarea>
                        </div>

                    </div>

                    <div class="md:col-span-1">
                        <div class="bg-white p-5 rounded-lg shadow-md border border-gray-200 h-full flex flex-col">
                            <h4 class="text-lg font-bold text-gray-900 mb-4 border-b pb-2">Order Summary</h4>
                            
                            <div class="space-y-4 mb-6">
                                <div class="flex items-start gap-3">
                                    <div class="mt-1 w-2 h-2 rounded-full bg-blue-500 flex-shrink-0"></div>
                                    <div>
                                        <p class="text-[10px] text-gray-400 uppercase font-bold">Load</p>
                                        <p class="text-sm font-bold text-gray-800 leading-tight" id="summary-load">London, UK</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <div class="mt-1 w-2 h-2 rounded-full bg-green-500 flex-shrink-0"></div>
                                    <div>
                                        <p class="text-[10px] text-gray-400 uppercase font-bold">Unload</p>
                                        <p class="text-sm font-bold text-gray-800 leading-tight" id="summary-unload">Manchester, UK</p>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-gray-50 p-3 rounded mb-6 border border-gray-100">
                                <p class="text-xs text-gray-500 mb-1">Selected Vehicle</p>
                                <div class="flex justify-between items-center">
                                    <span class="font-bold text-brand-red text-md" id="summary-truck-name">Pickup 1 Ton</span>
                                    <i class="fas fa-truck text-gray-400"></i>
                                </div>
                            </div>

                            <div class="mt-auto">
                                <div class="flex justify-between items-center mb-4 border-t pt-4">
                                    <span class="text-gray-600 font-medium">Est. Total</span>
                                    <span class="text-2xl font-bold text-gray-900">Â£<span id="summary-price">--</span></span>
                                </div>
                                
                                <button onclick="confirmBooking()" class="w-full bg-brand-red text-white py-3 rounded-lg font-bold shadow hover:bg-red-700 transition">
                                    Confirm Booking
                                </button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>




<div id="profileModal" class="fixed inset-0 z-[70] hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <div class="fixed inset-0 bg-gray-900 bg-opacity-75 backdrop-blur-sm transition-opacity" onclick="closeAllMenuModals()"></div>
    <div class="fixed inset-0 z-10 overflow-y-auto">
        <div class="flex min-h-full items-center justify-center p-4 text-center">
            <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all w-full max-w-lg">
                <div class="bg-brand-red px-6 py-4 flex justify-between items-center">
                    <h3 class="text-xl font-bold text-white">My Profile</h3>
                    <button onclick="closeAllMenuModals()" class="text-white hover:text-gray-200"><i class="fas fa-times text-xl"></i></button>
                </div>
        
            <div class="grid grid-cols-3 gap-4">
        <div class="col-span-1">
            <label class="block text-xs font-bold text-gray-500 uppercase">Postcode</label>
            <input type="text" id="profile-postcode" class="w-full border-b border-gray-300 py-2 focus:outline-none focus:border-brand-red uppercase" placeholder="SW1A 1AA">
        </div>
        <div class="col-span-2">
            <label class="block text-xs font-bold text-gray-500 uppercase">Home Address</label>
            <input type="text" id="profile-address" class="w-full border-b border-gray-300 py-2 focus:outline-none focus:border-brand-red" placeholder="10 Downing Street">
        </div>
    </div>
                
                <div class="p-6 space-y-4">
    <div class="flex justify-center mb-4 relative">
    
    <div onclick="document.getElementById('file-upload').click()" class="h-24 w-24 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden border-4 border-white shadow cursor-pointer hover:opacity-80 transition group">
        <i id="default-icon" class="fas fa-camera text-3xl text-gray-400 group-hover:text-gray-600"></i>
        <img id="profile-preview" src="" class="h-full w-full object-cover hidden">
    </div>

    <input type="file" id="file-upload" class="hidden" accept="image/*" onchange="uploadImage(this)">
    
    <p class="text-[10px] text-gray-400 mt-2 absolute -bottom-4">Tap to change</p>
</div>
    
    <div>
        <label class="block text-xs font-bold text-gray-500 uppercase">Full Name</label>
        <input type="text" id="profile-name" class="w-full border-b border-gray-300 py-2 focus:outline-none focus:border-brand-red text-gray-800 font-bold" placeholder="Your Name">
    </div>
    
    <div>
        <label class="block text-xs font-bold text-gray-500 uppercase">Mobile Number</label>
        <input type="text" id="profile-mobile" class="w-full border-b border-gray-300 py-2 focus:outline-none text-gray-500 cursor-not-allowed" readonly>
    </div>
    
    <div>
        <label class="block text-xs font-bold text-gray-500 uppercase">Email</label>
        <input type="email" id="profile-email" class="w-full border-b border-gray-300 py-2 focus:outline-none focus:border-brand-red" placeholder="Enter your email">
    </div>

    <button onclick="updateProfile()" class="w-full bg-black text-white py-3 rounded mt-4 font-bold hover:bg-gray-800 transition shadow-lg">
        Update Profile
    </button>
</div>


            </div>
        </div>
    </div>
</div>

<div id="bookingsModal" class="fixed inset-0 z-[70] hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <div class="fixed inset-0 bg-gray-900 bg-opacity-75 backdrop-blur-sm transition-opacity" onclick="closeAllMenuModals()"></div>
    <div class="fixed inset-0 z-10 overflow-y-auto">
        <div class="flex min-h-full items-center justify-center p-4 text-center">
            <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all w-full max-w-2xl">
                
                <div class="bg-white px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-900">My Bookings</h3>
                    <button onclick="closeAllMenuModals()" class="text-gray-400 hover:text-gray-600"><i class="fas fa-times text-xl"></i></button>
                </div>

                <div id="bookings-list" class="p-6 bg-gray-50 space-y-4 max-h-[60vh] overflow-y-auto min-h-[200px]">
                    
                    <p class="text-center text-gray-400 mt-10">Loading your bookings...</p>

                </div>

            </div>
        </div>
    </div>
</div>

<div id="settingsModal" class="fixed inset-0 z-[70] hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <div class="fixed inset-0 bg-gray-900 bg-opacity-75 backdrop-blur-sm transition-opacity" onclick="closeAllMenuModals()"></div>
    <div class="fixed inset-0 z-10 overflow-y-auto">
        <div class="flex min-h-full items-center justify-center p-4 text-center">
            <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all w-full max-w-md">
                <div class="bg-white px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-900">Settings</h3>
                    <button onclick="closeAllMenuModals()" class="text-gray-400 hover:text-gray-600"><i class="fas fa-times text-xl"></i></button>
                </div>
                <div class="p-6 space-y-4">
                    <div class="flex items-center justify-between py-2 border-b border-gray-100">
                        <span class="text-sm font-medium text-gray-700">Push Notifications</span>
                        <input type="checkbox" checked class="text-brand-red focus:ring-brand-red rounded">
                    </div>
                    <div class="flex items-center justify-between py-2 border-b border-gray-100">
                        <span class="text-sm font-medium text-gray-700">Email Updates</span>
                        <input type="checkbox" class="text-brand-red focus:ring-brand-red rounded">
                    </div>
                    <div class="pt-4">
                        <button class="w-full border border-red-200 text-red-600 py-2 rounded hover:bg-red-50 font-bold text-sm">Change Password</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<div id="authModal" class="fixed inset-0 z-[60] hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    
    <div class="fixed inset-0 bg-gray-900 bg-opacity-80 backdrop-blur-sm transition-opacity" onclick="closeAuthModal()"></div>

    <div class="fixed inset-0 z-10 overflow-y-auto">
        <div class="flex min-h-full items-center justify-center p-4 text-center">
            
            <div class="relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all w-full max-w-md border-t-4 border-brand-red">
                
                <button onclick="closeAuthModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition z-20">
                    <i class="fas fa-times text-xl"></i>
                </button>

                <div class="flex border-b border-gray-100">
                    <button onclick="switchAuthTab('login')" id="tab-login" class="w-1/2 py-4 text-center font-bold text-gray-500 border-b-2 border-transparent hover:text-brand-red transition">
                        Log In
                    </button>
                    <button onclick="switchAuthTab('signup')" id="tab-signup" class="w-1/2 py-4 text-center font-bold text-gray-500 border-b-2 border-transparent hover:text-brand-red transition">
                        Sign Up
                    </button>
                </div>

                <div class="p-8">

                    <div id="form-login" class="hidden">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Welcome Back!</h3>
                        <p class="text-sm text-gray-500 mb-6">Please login to your account.</p>

                        <form onsubmit="event.preventDefault(); handleLogin();">
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-xs font-bold text-gray-700 mb-1">Mobile Number</label>
                                    <div class="relative">
                                        <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400"><i class="fas fa-user"></i></span>
                                        <input id="login-mobile" type="text" class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-brand-red focus:border-brand-red transition" placeholder="Enter mobile number" required>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-gray-700 mb-1">Password</label>
                                    <div class="relative">
                                        <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400"><i class="fas fa-lock"></i></span>
                                        <input id="login-pass" type="password" class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-brand-red focus:border-brand-red transition" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                                    </div>
                                    <div class="text-right mt-1">
                                        <a href="#" class="text-xs text-brand-red hover:underline">Forgot Password?</a>
                                    </div>
                                </div>
                                <button type="submit" class="w-full bg-brand-red text-white font-bold py-3 rounded-lg hover:bg-red-700 transition shadow-lg">
                                    Log In
                                </button>
                            </div>
                        </form>
                        
                        <div class="mt-6">
                            <div class="relative">
                                <div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-200"></div></div>
                                <div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500">Or continue with</span></div>
                            </div>
                            <div id="google-login-btn" class="mt-4 w-full flex justify-center"></div>
                            
                            
                        </div>
                    </div>

                    <div id="form-signup" class="hidden">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Create Account</h3>
                        <p class="text-sm text-gray-500 mb-6">Join the largest trucking network.</p>

                        <form onsubmit="event.preventDefault(); handleSignup();">
                            
                            <div class="grid grid-cols-2 gap-3 mb-6 p-1 bg-gray-100 rounded-lg">
                                <div onclick="selectUserType('shipper')" id="type-shipper" class="cursor-pointer text-center py-2 rounded-md text-sm font-bold transition bg-white text-brand-red shadow-sm">
                                    <i class="fas fa-box-open mr-1"></i> Customer
                                </div>
                                <div onclick="selectUserType('driver')" id="type-driver" class="cursor-pointer text-center py-2 rounded-md text-sm font-bold text-gray-500 hover:text-gray-700 transition">
                                    <i class="fas fa-truck mr-1"></i> Driver
                                </div>
                                <input type="hidden" id="user-type-input" value="shipper">
                            </div>

                            <div class="space-y-3">
                                <div>
                                    <input id="signup-name" type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-brand-red focus:border-brand-red transition text-sm" placeholder="Full Name" required>
                                </div>
                                <div>
                                    <input id="signup-mobile" type="tel" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-brand-red focus:border-brand-red transition text-sm" placeholder="Mobile Number" required>
                                </div>
                                <div>
                                    <input id="signup-pass" type="password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-brand-red focus:border-brand-red transition text-sm" placeholder="Create Password" required>
                                </div>
                                
                                <div class="flex items-start gap-2 mt-2">
                                    <input type="checkbox" class="mt-1 rounded text-brand-red focus:ring-brand-red" required>
                                    <p class="text-xs text-gray-500">I agree to the <a href="#" class="text-brand-red underline">Terms of Service</a> & <a href="#" class="text-brand-red underline">Privacy Policy</a>.</p>
                                </div>

                                <button type="submit" class="w-full bg-brand-red text-white font-bold py-3 rounded-lg hover:bg-red-700 transition shadow-lg mt-2">
                                    Create Account
                                </button>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>